<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
    <title>ç™¾å¤œ</title>
    <meta name="description" content="äºŒæ¬¡å…ƒ,çŸ¥ä¹ç”¨æˆ·,SYSUæ•°å­¦ç³»å¤§ä¸‰åœ¨è¯»">
    <meta name="keywords" content="ä¸ªäººåšå®¢,å¼€å‘è€…">
    <meta name="format-detection" content="telephone=no">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="static/css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery.fancybox@2.1.5/source/jquery.fancybox.css">
    <style>
        .anime-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid #ff7eb3;
            position: relative;
        }
        
        .anime-section::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23ff7eb3" d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/></svg>');
            background-size: contain;
        }
        
        .pomodoro-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .pomodoro-display {
            font-size: 4em;
            font-family: 'Digital', monospace;
            color: #ff4081;
            text-shadow: 0 0 10px rgba(255, 64, 129, 0.5);
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.05);
            padding: 10px 30px;
            border-radius: 10px;
            border: 3px dashed #ff4081;
        }
        
        .pomodoro-controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }
        
        .anime-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #ff4081, #ff7eb3);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(255, 64, 129, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .anime-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 64, 129, 0.4);
        }
        
        .anime-btn:active {
            transform: translateY(1px);
        }
        
        .pomodoro-history {
            width: 100%;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            border-top: 2px dashed #ff7eb3;
            padding-top: 15px;
        }
        
        .history-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255, 126, 179, 0.1);
            border-radius: 8px;
            border-left: 4px solid #ff4081;
        }
        
        .thoughts-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .thoughts-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .thoughts-input textarea {
            flex: 1;
            padding: 15px;
            border: 2px solid #ff7eb3;
            border-radius: 15px;
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.95);
        }
        
        .thoughts-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .thought-item {
            background: white;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #ffccd5;
            position: relative;
        }
        
        .thought-item::before {
            content: 'âœ¦';
            position: absolute;
            left: -25px;
            top: 15px;
            color: #ff4081;
            font-size: 20px;
        }
        
        .thought-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px dashed #ffccd5;
        }
        
        .thought-time {
            color: #666;
            font-size: 0.9em;
        }
        
        .delete-thought {
            color: #ff4081;
            cursor: pointer;
            font-size: 0.9em;
        }
        
        .anime-title {
            color: #ff4081;
            border-bottom: 3px solid #ff7eb3;
            padding-bottom: 5px;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .character-float {
            position: absolute;
            right: 20px;
            bottom: 20px;
            width: 120px;
            opacity: 0.8;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 126, 179, 0.1);
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            color: #ff4081;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #666;
        }
    </style>
    <script type="text/javascript">
        if (!!window.ActiveXObject || "ActiveXObject" in window) {
            alert('æœ‹å‹ï¼Œä¸Šå¤æµè§ˆå™¨ä¸æ”¯æŒå‘¢~');
        }
    </script>
</head>

<body>
    <div id="body-wrap">
        <nav class="not_index_bg" id="nav" style="background-image:url(https://api.ixiaowai.cn/api/api.php)">
            <div id="page_site-info">
                <div id="site-title">
                    <span class="blogtitle"></span>
                    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
                    <script>
                        var typed = new Typed(".blogtitle", {
                            strings: ['äºŒæ¬¡å…ƒçš„ä¸–ç•Œï¼Œæ— é™å¯èƒ½', 'Welcome to Anime World'],
                            startDelay: 300,
                            typeSpeed: 100,
                            loop: true,
                            backSpeed: 50,
                            showCursor: true
                        });
                    </script>
                </div>
            </div>
        </nav>
        <main id="content-outer">
            <div class="layout_page" id="content-inner">
                <div class="aside_content" id="aside_content">
                    <div class="card-widget card-info">
                        <div class="card-content">
                            <div class="card-info-avatar is-center">
                                <img class="avatar-img"
                                    src="https://cdn.jsdelivr.net/gh/guoshijiang/picbed/2023/10/202310071352613.jpg"
                                    alt="avatar">
                                <div class="author-info__name">æ‘¸é±¼çˆ±å¥½è€…</div>
                                <div class="author-info__description">å­¦ç”Ÿ<br>æ°¸è¿œä¿æŒæ±‚çŸ¥æ¬²</div>
                            </div>
                            <div class="card-info-social-icons is-center">
                                <a class="social-icon" href="https://github.com" target="_blank">
                                    <i class="fa fa-github"></i>
                                </a>
                                <a class="social-icon" href="#" target="_blank">
                                    <i class="fa fa-weibo"></i>
                                </a>
                                <a class="social-icon" href="#" target="_blank">
                                    <i class="fa fa-bilibili"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="card-widget card-announcement">
                        <div class="card-content">
                            <div class="item-headline">
                                <i class="fa fa-heart" aria-hidden="true"></i>
                                <span>ä»Šæ—¥å¿ƒæƒ…</span>
                            </div>
                            <div id="daily-mood">ä»Šå¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©å‘¢ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</div>
                        </div>
                    </div>

                    <div class="card-widget card-webinfo">
                        <div class="card-content">
                            <div class="item-headline">
                                <i class="fa fa-line-chart" aria-hidden="true"></i>
                                <span>æ¬¡å…ƒæ•°æ®</span>
                            </div>
                            <div class="webinfo">
                                <div class="webinfo-item">
                                    <div class="webinfo-site-uv-name">æœ¬æ—¥ä¸“æ³¨æ—¶é•¿ :</div>
                                    <div class="webinfo-site-uv-count" id="focus-today">0 åˆ†é’Ÿ</div>
                                </div>
                                <div class="webinfo-item">
                                    <div class="webinfo-site-name">ç´¯è®¡ç•ªèŒ„é’Ÿ :</div>
                                    <div class="webinfo-site-pv-count" id="total-pomodoro">0 ä¸ª</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <article id="page">
                    <div class="article-container">
                        <h2>éŸ³ä¹</h2>
                        <meting-js auto="https://y.qq.com/n/yqq/playlist/7713574197.html">
                        </meting-js>
                        <hr>

                        <!-- ç•ªèŒ„é’Ÿæ¨¡å— -->
                        <div class="anime-section">
                            <h2 class="anime-title">âœ§ äºŒæ¬¡å…ƒç•ªèŒ„é’Ÿ âœ§</h2>
                            <div class="pomodoro-container">
                                <div class="stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="completed-today">0</div>
                                        <div class="stat-label">ä»Šæ—¥å®Œæˆ</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="total-focus">0</div>
                                        <div class="stat-label">æ€»ä¸“æ³¨æ—¶é•¿(åˆ†é’Ÿ)</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="current-streak">0</div>
                                        <div class="stat-label">è¿ç»­å¤©æ•°</div>
                                    </div>
                                </div>
                                
                                <div class="pomodoro-display" id="timer-display">25:00</div>
                                
                                <div class="pomodoro-controls">
                                    <button class="anime-btn" id="start-btn">å¼€å§‹ä¸“æ³¨</button>
                                    <button class="anime-btn" id="pause-btn" style="display:none">æš‚åœ</button>
                                    <button class="anime-btn" id="reset-btn">é‡ç½®</button>
                                    <button class="anime-btn" id="short-break">çŸ­ä¼‘æ¯(5åˆ†)</button>
                                    <button class="anime-btn" id="long-break">é•¿ä¼‘æ¯(15åˆ†)</button>
                                </div>
                                
                                <div class="pomodoro-history">
                                    <h4>âŒ› ä»Šæ—¥è®°å½•</h4>
                                    <div id="history-list"></div>
                                </div>
                            </div>
                            <img src="https://cdn.jsdelivr.net/gh/guoshijiang/picbed/2023/10/202310071352614.png" 
                                 class="character-float" alt="äºŒæ¬¡å…ƒè§’è‰²">
                        </div>

                        <!-- è¯´è¯´æ¨¡å— -->
                        <div class="anime-section">
                            <h2 class="anime-title">âœ¦ ä»Šæ—¥æƒ³æ³• âœ¦</h2>
                            <div class="thoughts-container">
                                <div class="thoughts-input">
                                    <textarea id="new-thought" placeholder="åˆ†äº«ä½ çš„æƒ³æ³•... (à¹‘>á´—<à¹‘)"></textarea>
                                    <button class="anime-btn" id="post-thought">å‘å¸ƒ</button>
                                </div>
                                
                                <div class="thoughts-list" id="thoughts-list">
                                    <!-- æƒ³æ³•ä¼šåŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
                                </div>
                            </div>
                        </div>

                </article>
            </div>
        </main>
        <footer id="footer">
            <div id="footer-wrap">
                <div class="copyright">&copy;</div>
            </div>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.fancybox@2.1.5/source/jquery.fancybox.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.0/lazysizes.min.js" async></script>
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>


    <script>
        $(document).ready(function() {
            // ç•ªèŒ„é’ŸåŠŸèƒ½
            let timer;
            let minutes = 25;
            let seconds = 0;
            let isRunning = false;
            let isBreak = false;
            let completedCount = 0;
            let totalFocusTime = 0;
            let today = new Date().toDateString();
            
            // åŠ è½½å­˜å‚¨çš„æ•°æ®
            loadPomodoroData();
            loadThoughts();
            
            // åˆå§‹åŒ–æ˜¾ç¤º
            updateDisplay();
            
            // ç•ªèŒ„é’ŸåŠŸèƒ½å‡½æ•°
            function startTimer() {
                if (!isRunning) {
                    isRunning = true;
                    timer = setInterval(updateTimer, 1000);
                    $('#start-btn').hide();
                    $('#pause-btn').show();
                }
            }
            
            function pauseTimer() {
                isRunning = false;
                clearInterval(timer);
                $('#start-btn').show();
                $('#pause-btn').hide();
            }
            
            function resetTimer() {
                pauseTimer();
                minutes = isBreak ? 5 : 25;
                seconds = 0;
                updateDisplay();
            }
            
            function updateTimer() {
                if (seconds === 0) {
                    if (minutes === 0) {
                        // æ—¶é—´åˆ°
                        clearInterval(timer);
                        isRunning = false;
                        
                        if (!isBreak) {
                            // å®Œæˆä¸€ä¸ªç•ªèŒ„é’Ÿ
                            completedCount++;
                            totalFocusTime += 25;
                            savePomodoroRecord();
                            updateStats();
                            alert('ğŸ… æ­å–œå®Œæˆä¸€ä¸ªç•ªèŒ„é’Ÿï¼ä¼‘æ¯ä¸€ä¸‹å§ï½');
                            startBreak(5);
                        } else {
                            // ä¼‘æ¯ç»“æŸ
                            alert('ä¼‘æ¯ç»“æŸï¼Œç»§ç»­åŠ æ²¹å§ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§');
                            isBreak = false;
                            minutes = 25;
                            seconds = 0;
                            updateDisplay();
                        }
                        $('#start-btn').show();
                        $('#pause-btn').hide();
                        return;
                    }
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }
                updateDisplay();
            }
            
            function updateDisplay() {
                const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                $('#timer-display').text(display);
                
                // æ›´æ–°æ ‡é¢˜æ˜¾ç¤º
                const prefix = isBreak ? 'ä¼‘æ¯ä¸­ - ' : 'ä¸“æ³¨ä¸­ - ';
                document.title = prefix + display;
            }
            
            function startBreak(minutesBreak) {
                isBreak = true;
                minutes = minutesBreak;
                seconds = 0;
                isRunning = false;
                updateDisplay();
                alert(`å¼€å§‹${minutesBreak}åˆ†é’Ÿä¼‘æ¯ï½`);
            }
            
            function savePomodoroRecord() {
                const record = {
                    time: new Date().toLocaleString(),
                    type: 'pomodoro',
                    duration: 25
                };
                
                let history = JSON.parse(localStorage.getItem('pomodoroHistory') || '[]');
                history.push(record);
                localStorage.setItem('pomodoroHistory', JSON.stringify(history));
                
                // æ›´æ–°ä»Šæ—¥æ•°æ®
                const todayData = JSON.parse(localStorage.getItem('todayStats') || '{}');
                if (todayData.date !== today) {
                    todayData.date = today;
                    todayData.completed = 0;
                    todayData.focusTime = 0;
                }
                todayData.completed++;
                todayData.focusTime += 25;
                localStorage.setItem('todayStats', JSON.stringify(todayData));
                
                updateHistoryList();
            }
            
            function loadPomodoroData() {
                // åŠ è½½å†å²è®°å½•
                updateHistoryList();
                
                // åŠ è½½ç»Ÿè®¡æ•°æ®
                updateStats();
            }
            
            function updateHistoryList() {
                let history = JSON.parse(localStorage.getItem('pomodoroHistory') || '[]');
                const todayHistory = history.filter(record => 
                    new Date(record.time).toDateString() === today
                );
                
                $('#history-list').empty();
                todayHistory.slice(-5).forEach(record => {
                    $('#history-list').prepend(
                        `<div class="history-item">
                            ğŸ… ${record.time.split(' ')[1]} - å®Œæˆ25åˆ†é’Ÿä¸“æ³¨
                        </div>`
                    );
                });
                
                if (todayHistory.length === 0) {
                    $('#history-list').html('<div class="history-item">ä»Šå¤©è¿˜æ²¡æœ‰è®°å½•å‘¢ï¼Œå¼€å§‹ç¬¬ä¸€ä¸ªç•ªèŒ„é’Ÿå§ï¼</div>');
                }
            }
            
            function updateStats() {
                const todayData = JSON.parse(localStorage.getItem('todayStats') || '{}');
                const history = JSON.parse(localStorage.getItem('pomodoroHistory') || '[]');
                
                $('#completed-today').text(todayData.completed || 0);
                $('#total-focus').text(todayData.focusTime || 0);
                $('#total-pomodoro').text(history.length + ' ä¸ª');
                $('#focus-today').text((todayData.focusTime || 0) + ' åˆ†é’Ÿ');
                
                // è®¡ç®—è¿ç»­å¤©æ•°
                let dates = [...new Set(history.map(r => new Date(r.time).toDateString()))];
                dates.sort((a, b) => new Date(b) - new Date(a));
                
                let streak = 0;
                let currentDate = new Date();
                for (let i = 0; i < dates.length; i++) {
                    const expectedDate = new Date(currentDate - i * 24 * 60 * 60 * 1000).toDateString();
                    if (dates.includes(expectedDate)) {
                        streak++;
                    } else {
                        break;
                    }
                }
                $('#current-streak').text(streak);
            }
            
            // äº‹ä»¶ç›‘å¬
            $('#start-btn').click(startTimer);
            $('#pause-btn').click(pauseTimer);
            $('#reset-btn').click(resetTimer);
            $('#short-break').click(() => startBreak(5));
            $('#long-break').click(() => startBreak(15));
            
            // è¯´è¯´åŠŸèƒ½
            $('#post-thought').click(function() {
                const thought = $('#new-thought').val().trim();
                if (thought) {
                    saveThought(thought);
                    $('#new-thought').val('');
                }
            });
            
            function saveThought(content) {
                const thought = {
                    id: Date.now(),
                    content: content,
                    time: new Date().toLocaleString(),
                    likes: 0
                };
                
                let thoughts = JSON.parse(localStorage.getItem('thoughts') || '[]');
                thoughts.unshift(thought);
                localStorage.setItem('thoughts', JSON.stringify(thoughts.slice(0, 50))); // æœ€å¤šä¿å­˜50æ¡
                
                loadThoughts();
            }
            
            function loadThoughts() {
                let thoughts = JSON.parse(localStorage.getItem('thoughts') || '[]');
                $('#thoughts-list').empty();
                
                thoughts.forEach(thought => {
                    $('#thoughts-list').append(`
                        <div class="thought-item" data-id="${thought.id}">
                            <div class="thought-header">
                                <span class="thought-time">${thought.time}</span>
                                <span class="delete-thought" onclick="deleteThought(${thought.id})">åˆ é™¤</span>
                            </div>
                            <div class="thought-content">${thought.content}</div>
                        </div>
                    `);
                });
                
                if (thoughts.length === 0) {
                    $('#thoughts-list').html('<div class="thought-item">è¿˜æ²¡æœ‰ä»»ä½•æƒ³æ³•ï¼Œå¿«æ¥åˆ†äº«å§ï¼</div>');
                }
            }
            
            // å…è®¸Enteré”®å‘é€ï¼ˆCtrl+Enteræ¢è¡Œï¼‰
            $('#new-thought').keydown(function(e) {
                if (e.key === 'Enter' && e.ctrlKey) {
                    return; // å…è®¸æ¢è¡Œ
                }
                if (e.key === 'Enter' && !e.ctrlKey) {
                    e.preventDefault();
                    $('#post-thought').click();
                }
            });
            
            // åˆå§‹åŒ–ä¸€äº›ç¤ºä¾‹æ•°æ®ï¼ˆç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼‰
            if (!localStorage.getItem('thoughts')) {
                const sampleThoughts = [
                    {id: 1, content: 'ä»Šå¤©å‘ç°äº†ä¸€éƒ¨è¶…å¥½çœ‹çš„ç•ªå‰§ï¼æ¨èç»™å¤§å®¶ï½', time: new Date().toLocaleString(), likes: 0},
                    {id: 2, content: 'å­¦ä¹ å‰ç«¯å¼€å‘çœŸçš„å¾ˆæœ‰è¶£ï¼Œç‰¹åˆ«æ˜¯èƒ½åšå‡ºé…·ç‚«çš„åŠ¨ç”»æ•ˆæœæ—¶ï¼', time: new Date().toLocaleString(), likes: 0}
                ];
                localStorage.setItem('thoughts', JSON.stringify(sampleThoughts));
                loadThoughts();
            }
        });
        
        // åˆ é™¤æƒ³æ³•å‡½æ•°
        function deleteThought(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡æƒ³æ³•å—ï¼Ÿ')) {
                let thoughts = JSON.parse(localStorage.getItem('thoughts') || '[]');
                thoughts = thoughts.filter(thought => thought.id !== id);
                localStorage.setItem('thoughts', JSON.stringify(thoughts));
                
                // é‡æ–°åŠ è½½
                $(document).ready(function() {
                    let thoughts = JSON.parse(localStorage.getItem('thoughts') || '[]');
                    $('#thoughts-list').empty();
                    
                    thoughts.forEach(thought => {
                        $('#thoughts-list').append(`
                            <div class="thought-item" data-id="${thought.id}">
                                <div class="thought-header">
                                    <span class="thought-time">${thought.time}</span>
                                    <span class="delete-thought" onclick="deleteThought(${thought.id})">åˆ é™¤</span>
                                </div>
                                <div class="thought-content">${thought.content}</div>
                            </div>
                        `);
                    });
                    
                    if (thoughts.length === 0) {
                        $('#thoughts-list').html('<div class="thought-item">è¿˜æ²¡æœ‰ä»»ä½•æƒ³æ³•ï¼Œå¿«æ¥åˆ†äº«å§ï¼</div>');
                    }
                });
            }
        }
    </script>
    
    <!-- åŸé¡µé¢å…¶ä»–è„šæœ¬ä¿æŒä¸å˜ -->
    <script type="text/javascript">
        console.clear();
        console.log("%c æ¬¢è¿æ¥åˆ°äºŒæ¬¡å…ƒçš„ä¸–ç•Œï¼", "background:#ff7eb3; color:white; padding:5px; border-radius:3px", "");
        console.log("%c Github %c", "background:#24272A; color:#ffffff", "", "https://github.com");
        
        // é›ªèŠ±æ•ˆæœï¼ˆä¿ç•™ï¼‰
        (function ($) {
            $.fn.snow = function (options) {
                var $flake = $('<div id="snowbox" />').css({ 'position': 'absolute', 'z-index': '9999', 'top': '-50px' }).html('â„'),
                    documentHeight = $(document).height(),
                    documentWidth = $(document).width(),
                    defaults = {
                        minSize: 10,
                        maxSize: 30,
                        newOn: 800,
                        flakeColor: "#FFB6C1" /* ç²‰è‰²é›ªèŠ± */
                    },
                    options = $.extend({}, defaults, options);
                var interval = setInterval(function () {
                    var startPositionLeft = Math.random() * documentWidth - 100,
                        startOpacity = 0.5 + Math.random(),
                        sizeFlake = options.minSize + Math.random() * options.maxSize,
                        endPositionTop = documentHeight - 200,
                        endPositionLeft = startPositionLeft - 500 + Math.random() * 500,
                        durationFall = documentHeight * 10 + Math.random() * 5000;
                    $flake.clone().appendTo('body').css({
                        left: startPositionLeft,
                        opacity: startOpacity,
                        'font-size': sizeFlake,
                        color: options.flakeColor
                    }).animate({
                        top: endPositionTop,
                        left: endPositionLeft,
                        opacity: 0.2
                    }, durationFall, 'linear', function () {
                        $(this).remove()
                    });
                }, options.newOn);
            };
        })(jQuery);
        $(function () {
            $.fn.snow({
                minSize: 5,
                maxSize: 30,
                newOn: 800
            });
        });

        // æµè§ˆå™¨æç¬‘æ ‡é¢˜ï¼ˆä¿ç•™ä½†ä¿®æ”¹å†…å®¹ï¼‰
        var OriginTitle = document.title;
        var titleTime;
        document.addEventListener('visibilitychange', function () {
            if (document.hidden) {
                document.title = '(>_<) ä¸è¦ç¦»å¼€å˜›ï½';
                clearTimeout(titleTime);
            }
            else {
                document.title = '(à¹‘>á´—<à¹‘) æ¬¢è¿å›æ¥ï¼';
                titleTime = setTimeout(function () {
                    document.title = OriginTitle;
                }, 2000);
            }
        });
    </script>
</body>

</html>
